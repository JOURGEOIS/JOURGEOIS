import{a as A}from"./date.4eb08d1d.js";import{R as T}from"./RoundImage.d46a7b48.js";import{d as h,m as w,h as r,o as n,c as u,l as p,e,t as C,u as m,g as I,z as L,k as B,j as S,_ as D,F as y,i as x,x as $,y as V,A as b,R as F,q as M,s as R}from"./index.b8a0ac78.js";import{H as O}from"./HeaderBasic.ac1a7e60.js";import{L as P}from"./LoadingBasic.6a5a02f4.js";const H={class:"the-notice-item-container"},U={class:"the-notice-item-name"},j={class:"the-notice-item-time"},q=L(),z={key:0,class:"the-notice-item-unread"},K=h({__name:"TheNoticeListItem",props:{noticeData:null},setup(o){const t=o,d=B(),l=S(),_=w({image:t.noticeData.opponent.img}),i=r(()=>{switch(t.noticeData.notification.type){case"LIKE":return"\uB2D8\uC774 \uB2F9\uC2E0\uC758 \uAC8C\uC2DC\uAE00\uC5D0 \uC88B\uC544\uC694\uB97C \uB20C\uB800\uC2B5\uB2C8\uB2E4.";case"COMMENT":return"\uB2D8\uC774 \uB2F9\uC2E0\uC758 \uAC8C\uC2DC\uAE00\uC5D0 \uB313\uAE00\uC744 \uB0A8\uACBC\uC2B5\uB2C8\uB2E4.";case"FOLLOW":return"\uB2D8\uC774 \uB2F9\uC2E0\uC744 \uD314\uB85C\uC6B0 \uD588\uC2B5\uB2C8\uB2E4."}}),a=r(()=>{var c,s;return(s=(c=t==null?void 0:t.noticeData)==null?void 0:c.notification)==null?void 0:s.timestamp}),f=r(()=>{const c=new Date(a.value.seconds*1e3).toString();return A(c)}),k=()=>{var s,g,v,N;const c={notiId:t.noticeData.notification.notificationId,type:t.noticeData.notification.type,postId:t.noticeData.notification.postId,uid:t.noticeData.opponent.uid,postType:((g=(s=t==null?void 0:t.noticeData)==null?void 0:s.postMetaInfo)==null?void 0:g.type)||0,baseCocktailId:((N=(v=t==null?void 0:t.noticeData)==null?void 0:v.postMetaInfo)==null?void 0:N.baseCocktailId)||0};d.dispatch("notice/readNotice",c)},E=()=>{const c=t.noticeData.notification.uid;l.push({name:"TheUserProfileView",params:{userId:c}})};return(c,s)=>(n(),u("div",H,[p(T,{"round-image":_,class:"the-notice-item-image",onClick:E},null,8,["round-image"]),e("div",{class:"the-notice-item-content",onClick:k},[e("p",null,[e("span",U,C(o.noticeData.opponent.nickname+" "),1),e("span",null,C(m(i)),1)]),e("p",j,[e("span",null,C(m(f)),1),q,o.noticeData.notification.isRead?I("",!0):(n(),u("div",z))])])]))}});const W=D(K,[["__scopeId","data-v-805cc611"]]),G=o=>($("data-v-0c26d323"),o=o(),V(),o),J={class:"the-notice-list-container"},Q=G(()=>e("hr",null,null,-1)),X=h({__name:"TheNoticeList",setup(o){const t=B(),d=r(()=>t.getters["notice/getNoticeList"]);return(l,_)=>(n(),u("div",J,[(n(!0),u(y,null,x(m(d),i=>(n(),u("article",{key:i.key},[p(W,{noticeData:i},null,8,["noticeData"]),Q]))),128))]))}});const Y=D(X,[["__scopeId","data-v-0c26d323"]]),Z={class:"the-notice-view"},tt=L(" \uC54C\uB9BC "),et={class:"the-notice-section top-view-no-margin"},ot=h({__name:"TheNoticeView",setup(o){const t=B(),d=r(()=>t.getters["modal/getLoadingStatus"]),l=i=>{const a={event:i,action:"notice/fetchNoticeList",data:{}};t.dispatch("scroll/handleScroll",a)};b(()=>{window.addEventListener("scroll",l),t.dispatch("notice/fetchNoticeList")});const _=()=>{t.dispatch("notice/readNoticeAll"),t.dispatch("notice/readNoticeList")};return F(()=>{t.dispatch("notice/resetNoticeList"),t.dispatch("modal/toggleLoadingStatus",!1)}),(i,a)=>(n(),u(y,null,[e("div",Z,[p(O,{prev:!0,success:!1,onPrevClicked:a[0]||(a[0]=f=>i.$router.go(-1))},{default:M(()=>[tt]),_:1}),e("section",et,[e("p",{onClick:_},"\uBAA8\uB450 \uC77D\uAE30"),p(Y)])]),m(d)?(n(),R(P,{key:0})):I("",!0)],64))}});const ut=D(ot,[["__scopeId","data-v-07b0b7c0"]]);export{ut as default};
