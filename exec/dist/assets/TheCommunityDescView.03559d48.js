import{R as V}from"./RoundImage.d46a7b48.js";import{c as N}from"./date.4eb08d1d.js";import{d as b,h as t,r as P,J as A,o as v,c as y,e as l,l as C,u as n,t as f,g as B,p as R,j as L,G as S,k as x,_ as I,s as O,q as w,z as M,x as E,y as z,n as H,F as U,A as j,R as q}from"./index.b8a0ac78.js";import{M as G}from"./ModalBasic.23187fbd.js";import{_ as F}from"./ButtonBasic.vue_vue_type_script_setup_true_lang.200855d0.js";import{L as J,C as K,a as Q}from"./CommentList.b6c8b449.js";import{H as W}from"./HeaderBasic.ac1a7e60.js";import{N as X}from"./NavBar.f319fd8d.js";import"./TextareaBasic.b1911877.js";const Y={class:"post-user-section"},Z={class:"part-left"},ee={class:"user-info-text"},te={class:"date-line"},oe={key:0,class:"updated"},se={class:"part-right"},ae={key:0,class:"material-icons-outlined follow-icon"},le={class:"follow-text"},ne=b({__name:"TheCommunityPostUserSection",setup(g){const p=L();S();const u=x(),e=t(()=>u.getters["feedDescInfo/getCommunityDetail"]),o=t(()=>{var s,a;return(a=(s=e==null?void 0:e.value)==null?void 0:s.followerDTO)==null?void 0:a.uid}),h=t(()=>{var s,a;return(a=(s=e==null?void 0:e.value)==null?void 0:s.followerDTO)==null?void 0:a.nickname}),c=t(()=>{var s,a;return(a=(s=e==null?void 0:e.value)==null?void 0:s.followerDTO)==null?void 0:a.profileImg}),k=t(()=>{var s,a;return(a=(s=e==null?void 0:e.value)==null?void 0:s.customCocktail)==null?void 0:a.createTime}),D=t(()=>N(k.value));t(()=>{var s,a;return(a=(s=e==null?void 0:e.value)==null?void 0:s.customCocktail)==null?void 0:a.lastUpdateTime});const T=t(()=>{var s,a;return(a=(s=e==null?void 0:e.value)==null?void 0:s.customCocktail)==null?void 0:a.isUpdated}),$=t(()=>u.getters["personalInfo/isLoggedIn"]),i=()=>{p.push({name:"TheUserProfileView",params:{userId:o.value}})},d=t(()=>{var s,a;return(a=(s=e==null?void 0:e.value)==null?void 0:s.followerDTO)==null?void 0:a.isFollowed}),r=P(d.value);A(()=>{r.value=d.value});const m=t(()=>{if(r.value===1)return"\uD314\uB85C\uC789";if(r.value===0)return"\uD314\uB85C\uC6B0"}),_=()=>{r.value===1?(u.dispatch("follow/unfollow",{uid:o.value}),r.value=0):r.value===0&&(u.dispatch("follow/follow",{uid:o.value}),r.value=1)};return(s,a)=>(v(),y("section",Y,[l("div",Z,[C(V,{"round-image":{image:n(c)},class:"user-info-profile",onClick:i},null,8,["round-image"]),l("div",ee,[l("div",{class:"user-nickname",onClick:i},f(n(h)),1),l("div",te,[l("span",null,f(n(D)),1),n(T)?(v(),y("span",oe,"\uC218\uC815\uB428")):B("",!0)])])]),l("div",se,[r.value!==-1&&n($)?(v(),y("span",{key:0,class:R(["follow-btn",{following:r.value,follow:!r.value}]),onClick:_},[r.value?B("",!0):(v(),y("span",ae," person_add ")),l("span",le,f(n(m)),1)],2)):B("",!0)])]))}});const ce=I(ne,[["__scopeId","data-v-8717da8a"]]),ie=g=>(E("data-v-2adc1ed1"),g=g(),z(),g),ue={class:"logout-modal-content"},de=ie(()=>l("p",null,"\uC815\uB9D0 \uC0AD\uC81C\uD558\uC2DC\uACA0\uC5B4\uC694?",-1)),re={class:"logout-modal-button"},me=M(" \uCDE8\uC18C "),_e=M(" \uC0AD\uC81C "),pe=b({__name:"FeedsDeleteModal",props:{postId:null},setup(g){const p=g,u=x(),e=h=>{u.dispatch("feedDescInfo/toggleDeleteModal",h)},o=()=>{e(!1),u.dispatch("feedDescInfo/deleteCommunityPost",p.postId)};return(h,c)=>(v(),O(G,{"modal-color":"white",onOffModal:c[1]||(c[1]=k=>e(!1))},{default:w(()=>[l("div",ue,[de,l("div",re,[C(F,{"button-style":["main-blank","50%","small"],onClick:c[0]||(c[0]=k=>e(!1))},{default:w(()=>[me]),_:1}),C(F,{"button-style":["primary","50%","small"],onClick:o},{default:w(()=>[_e]),_:1})])])]),_:1}))}});const Ce=I(pe,[["__scopeId","data-v-2adc1ed1"]]),ve={class:"the-community-desc-body"},ge={class:"community-description"},he={class:"normal-paragraph"},ke={key:0,class:"community-host-section"},ye=b({__name:"TheCommunityDescBody",setup(g){const p=x(),u=L(),e=S(),o=t(()=>p.getters["feedDescInfo/getCommunityDetail"]),h=t(()=>{var m,_;return(_=(m=o==null?void 0:o.value)==null?void 0:m.customCocktail)==null?void 0:_.postId}),c=t(()=>{var m,_;return(_=(m=o==null?void 0:o.value)==null?void 0:m.customCocktail)==null?void 0:_.imgLink}),k=t(()=>{var m,_;return(_=(m=o==null?void 0:o.value)==null?void 0:m.customCocktail)==null?void 0:_.description}),D=t(()=>{var m,_;return(_=(m=o==null?void 0:o.value)==null?void 0:m.followerDTO)==null?void 0:_.isFollowed}),T=t(()=>D.value===-1),$=()=>{u.push({name:"TheCommunityUpdateFormView",params:{feedId:e.params.feedId}})},i=t(()=>p.getters["feedDescInfo/getDeleteModalStatus"]),d=()=>{p.dispatch("feedDescInfo/toggleDeleteModal",!1)},r=()=>{p.dispatch("feedDescInfo/toggleDeleteModal",!0)};return(m,_)=>(v(),y(U,null,[l("section",ve,[C(ce,{userInfo:n(o).followerDTO,date:n(o).customCocktail.createTime},null,8,["userInfo","date"]),l("article",{class:"community-image",style:H({backgroundImage:`url(${n(c)})`})},null,4),l("article",ge,[l("p",he,f(n(k)),1)]),n(T)?(v(),y("article",ke,[l("div",{class:"btn edit-btn",onClick:$},"\uC218\uC815"),l("div",{class:"btn delete-btn",onClick:r},"\uC0AD\uC81C")])):B("",!0)]),n(i)?(v(),O(Ce,{key:0,postId:n(h),onOffModal:d},null,8,["postId"])):B("",!0)],64))}});const fe=I(ye,[["__scopeId","data-v-b85d8d31"]]),we={class:"community-desc-view top-view-no-margin"},De={class:"the-community-desc-container"},Te={class:"the-community-desc-comment"},$e=b({__name:"TheCommunityDescView",setup(g){const p=S(),u=x();u.dispatch("navbar/setNavIconStatus",0);const e=Number(p.params.feedId),o=t(()=>{var i,d;return(d=(i=c==null?void 0:c.value)==null?void 0:i.followerDTO)==null?void 0:d.nickname}),h=()=>{u.dispatch("feedDescInfo/setCommunityDetail",{feedId:e})};j(()=>{h()}),q(()=>{u.dispatch("feedDescInfo/removeCommunityDetail")});const c=t(()=>u.getters["feedDescInfo/getCommunityDetail"]),k=t(()=>{var i,d;return(d=(i=c==null?void 0:c.value)==null?void 0:i.customCocktail)==null?void 0:d.like}),D=t(()=>{var i,d;return(d=(i=c==null?void 0:c.value)==null?void 0:i.customCocktail)==null?void 0:d.ilike}),T=()=>{const i={postId:e,func:"feedDescInfo/setCommunityDetail",data:{feedId:e}};u.dispatch("post/toggleLike",i)},$=t(()=>u.getters["comment/getCommentCount"]);return(i,d)=>(v(),y(U,null,[C(W,{prev:!0,success:!1,onPrevClicked:d[0]||(d[0]=r=>i.$router.go(-1))},{default:w(()=>[M(f(n(o)),1)]),_:1}),l("div",we,[l("div",De,[C(fe),C(J,{onClickLike:T,data:{isLiked:n(D)}},{like:w(()=>[M(f(n(k)),1)]),comment:w(()=>[M(f(n($)),1)]),_:1},8,["data"]),l("section",Te,[C(K,{"page-id":n(e)},null,8,["page-id"]),C(Q,{"page-id":n(e)},null,8,["page-id"])])])]),C(X)],64))}});const Ue=I($e,[["__scopeId","data-v-8ffa1685"]]);export{Ue as default};
